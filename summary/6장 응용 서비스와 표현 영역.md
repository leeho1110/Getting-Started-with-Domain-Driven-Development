# 6장: 응용 서비스와 표현 영역

### 2. 응용 서비스의 역할

- 응용 서비스는 사용자의 요청을 전달받고 반환하는 표현 계층의 다음에 위치한 계층이다.
    - 도메인 객체들을 조합하여 사용자의 요청을 처리하는 것이 주된 역할이다.
    - 일반적으로 도메인 객체 간의 흐름을 제어하기 때문에 비교적 단순한 형태를 띈다.
        - 만약 복잡하다면 비즈니스 로직이 응용 서비스 계층에 구현되어있을 확률이 높다.
        - 이는 코드 중복, 로직의 분산 등 코드 품질에 악영향을 끼칠 수 있따.
    - WAS는 기본적으로 Stateless다. 이 때 상태를 저장하기 위해 필요한 것이 DB인데, DB 트랜잭션 제어 역시 응용 서비스가 담당한다.
        - 스프링에서는 일반적으로 `@Transactional` 를 통한 선언적 트랜잭션을 활용한다.

---

### 3. 응용 서비스의 구현

- 위에서 언급했듯 응용 서비스는 표현 영역과 도메인 영역을 연결한다.
    - 기능을 담당하는 응용 서비스를 구현하는데에는 하나의 응용 서비스가 모두 구현할수도 있고, 기능별로 클래스를 나눌수도 있다.
    - 저자는 구분되는 기능은 별도의 서비스 클래스로 구현하는 방식을 선호한다고 한다.
        - 하나의 클래스에 모두 구현되는 경우 재사용성이 떨어지고, 클래스가 비대해진다. 이런 이유로 저자의 의견과 동일하다.
- 표현 계층에서 만약 응용 서비스로 전달할 객체가 두 개 이상인 경우 별도의 DTO 역할을 담당하는 객체를 생성해 사용하자.
- 만약 응용 서비스의 결과를 표현 계층에서 사용해야 한다면 식별자를 전달하자. 애그리거트 자체를 리턴하면 기능 호출이 표현 계층에서도 가능해진다. 이는 코드의 응집도를 낮추는 원인이 된다.
- 표현 계층에 종속된 `HttpServletRequest`, `HttpServletResponse` 와 같은 타입들은 응용 계층에 전달하지말자.

---